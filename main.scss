@import "o-ft-icons/main";
@include oFtIconsFontFace();

@import "o-colors/main";

@include oColorsSetUseCase(expander-text, text, 'black');
@include oColorsSetUseCase(expander-icon, text, 'grey-tint2');

$o-expander-is-silent: true !default;

@mixin oExpanderContent {
	overflow: hidden;

	&[aria-hidden="true"] {
		display: none;
	}

	// Needs extra specificity
	&#{&}--expanded {
		max-height: none;
	}

	// The class is added via JS, so it can use the default name
	&--collapsed .o-expander__collapsible-item {
		display: none;
	}
}

@mixin oExpanderToggle($root-class-name: o-expander) {
	@include oColorsFor(expander-text, text);
	font-weight: normal;
	font-size: 12px;
	margin: 0;
	padding: 0;
	background: none;
	cursor: pointer;
	border: 0;

	i {
		@include oFtIconsBaseIconStyles();
		@include oColorsFor(expander-icon, text);
		display: inline-block;
		padding: 0 6px;
		box-sizing: border-box;
	}

	i,
	&[aria-expanded="true"] i {
		@extend %o-ft-icons-icon--arrow-up;
	}

	// temporary higher specicifity while having to work with the selector order
	// imposed by using @extend. Eventually with mixins it won't be needed
	[data-o-expander-js] & i {
		@extend %o-ft-icons-icon--arrow-down;
	}

	&:hover {
		text-decoration: none;
	}

	.#{$root-class-name}--inactive & {
		display: none;
	}
}

@if ($o-expander-is-silent == false) {
	.o-expander__content {
		@include oExpanderContent;
	}

	.o-expander__toggle {
		@include oExpanderToggle;
	}
}
