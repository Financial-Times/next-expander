@import "o-ft-icons/main";

@import "o-colors/main";

@include oColorsSetUseCase(expander-text, text, 'black');
@include oColorsSetUseCase(expander-icon, text, 'grey-tint2');

$o-expander-is-silent: true !default;

@mixin oExpanderContent {
	overflow: hidden;

	&[aria-hidden="true"] {
		display: none;
	}

	// Needs extra specificity
	&#{&}--expanded {
		max-height: none;
	}

	// The class is added via JS, so it can use the default name
	&--collapsed .o-expander__collapsible-item {
		display: none;
	}
}

@mixin oExpanderToggle($root-class-name: o-expander) {
	@include oColorsFor(expander-text, text);
	font-weight: normal;
	font-size: 12px;
	margin: 0;
	padding: 0;
	background: none;
	cursor: pointer;
	border: 0;

	i {
		@include oFtIconsGetSvg('arrow-down', oColorsGetColorFor(expander-icon, text), 12, 12);
		display: inline-block;
		padding: 0 6px;
	}

	&[aria-expanded="true"] i {
		@include oFtIconsGetSvg('arrow-up', oColorsGetColorFor(expander-icon, text), 12, $apply-base-styles:false);
	}

	&:hover {
		text-decoration: none;
	}

	.#{$root-class-name}--inactive & {
		display: none;
	}
}

@if ($o-expander-is-silent == false) {
	.o-expander__content {
		@include oExpanderContent;
	}

	.o-expander__toggle {
		@include oExpanderToggle;
	}
}
